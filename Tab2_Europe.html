<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title>Airport Emissions & Flight Network Visualization</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.css" rel="stylesheet" />
  
    <!-- CSS Stylesheets -->
    <link rel="stylesheet" href="css/main-styles.css">
  
  <link rel="stylesheet" href="css/tab2_europe.css">
</head>
<body>

            <!-- Top navigation -->
            <ul class="navbar" style="font-family: 'Montserrat',sans-serif;">
                <li class="logo">
                    <a href="#Home">
                        <img src="images/logo.svg" alt="Logo" class="logo-image">
                        <span class="logo-text">AVIATION NETWORK</span>
                    </a>
                </li>
                  <li><a href="index.html">Home</a></li>
                  <li><a href="Tab1_3DGlobe.html">Globe</a></li>
                  <li><a href="Tab2_Europe.html">Continent</a></li>
                  <li><a href="Tab3_City.html">City</a></li>
                  <li><a href="Tab4_Conclusion.html">Conclusion</a></li>
                  <li><a href="Tab5_Reference.html">Info</a></li>
            </ul>


  <!-- Main Map Container -->
  <div id="map-container">
    <div id="map"></div>

    <!-- Europe Control Panel -->
    <div id="controls-europe" class="ui-panel control-panel visible">
      <h3>CO₂ Emissions Visualization</h3>
      <label>
        Year: <span id="yearLabel">2019</span>
        <input type="range" id="yearSlider" min="2019" max="2024" value="2019">
      </label>
      <label><input type="radio" name="sizeby" value="co2" checked> Size by Emissions</label>
      <label><input type="radio" name="sizeby" value="FLT_TOT_1"> Size by Flight Count</label>
      <button class="btn" onclick="toggleChart('europe')">Toggle Chart</button>
    </div>

    <!-- Geneva Control Panel -->
    <div id="controls-gva" class="ui-panel control-panel hidden">
      <h3>Geneva Airport Flights</h3>
      <label><input type="checkbox" id="toggleCivil" checked> Show Commercial Flights</label>
      <label><input type="checkbox" id="togglePrivate"> Show Private Flights</label>
      <button class="btn" onclick="toggleChart('gva')">Toggle Chart</button>
    </div>

    <!-- Europe Chart (Centered) -->
    <div id="chart-europe" class="chart-container ui-panel visible">
      <select id="chart-selector-europe" class="chart-selector">
        <option value="comm">Top 10 Commercial Emissions</option>
        <option value="priv">Top 10 Private Jet Emissions</option>
      </select>
      <div id="bar-chart-europe"></div>
    </div>
      
    <!-- Geneva Chart (Centered) -->
    <div id="chart-gva" class="chart-container ui-panel hidden">
      <select id="chart-selector-gva" class="chart-selector">
        <option value="flight_count">Top 10 by Flight Count</option>
        <option value="total_emissions_kt">Top 10 by Emissions</option>
      </select>
      <div id="bar-chart-gva"></div>
    </div>

    <!-- Europe Legend -->
    <div id="legend-europe" class="legend-container ui-panel visible">
      <div class="legend-title">Emissions Legend</div>
      <div class="gradient-bar"></div>
      <div class="legend-labels">
        <span>Low</span>
        <span>High</span>
      </div>
    </div>

    <!-- Key Findings Panel -->
    <div id="conclusion-europe" class="conclusion-panel">
      <h4>Key Findings</h4>
      <div class="conclusion-item">
        <div class="conclusion-icon">·</div>
        <div class="conclusion-text">Top 3 airports contribute 42% of total emissions</div>
      </div>
      <div class="conclusion-item">
        <div class="conclusion-icon">·</div>
        <div class="conclusion-text">Private jet emissions growing at 23% rate</div>
      </div>
      <div class="conclusion-item">
        <div class="conclusion-icon">·</div>
        <div class="conclusion-text">Carbon emissions show core-periphery pattern</div>
      </div>
    </div>
      
    <!-- Geneva Legend -->
    <div id="legend-gva" class="legend-container ui-panel hidden">
      <div class="legend-title">Flight Types</div>
      <div class="legend-item"><div class="line-sample civil"></div><span>Commercial</span></div>
      <div class="legend-item"><div class="line-sample private"></div><span>Private Jet</span></div>
      <div class="legend-item"><div class="line-sample private-500"></div><span>Frequent Private</span></div>
    </div>

    <!-- View Toggle Button -->
    <button class="toggle-view" id="toggleView">Show Geneva Airport View</button>
  </div>

  
  <script src="js/tab2_europe.js"></script>
</body>
</html>